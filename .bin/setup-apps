#!/bin/bash

source "$HOME/.bash_colors"

LINKS_MACOS=(
    # Source;Target;Name
    '/Applications/GitHub Desktop.app/Contents/Resources/app/static/github.sh;/usr/local/bin/github;Github Desktop'
    '/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl;/usr/local/bin/sublime;Sublime Text'
    '/Applications/Visual Studio Code.app/Contents/Resources/app/bin/code;/usr/local/bin/code;VSCode'
)

if [[ "$(uname -s)" == "Darwin" ]]; then
    for LINK in "${LINKS_MACOS[@]}"; do
        SOURCE=$(echo "$LINK" | cut -d";" -f1)
        TARGET=$(echo "$LINK" | cut -d";" -f2)
        NAME=$(echo "$LINK" | cut -d";" -f3)

        if [[ ! -e "$SOURCE" ]]; then
            echo "${RED}$NAME is not installed... skipping${STOP}"
            continue
        else
            echo "${GREEN}Symlinking \"$NAME\": $SOURCE ðŸ‘‰ $TARGET${STOP}"
            ln -sf "$SOURCE" "$TARGET"
        fi
    done
fi
